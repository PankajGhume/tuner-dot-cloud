!function(e){function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var t={};return r.m=e,r.c=t,r.p="",r(0)}([function(e,r,t){"use strict";var n=t(1),o=null;self.addEventListener("message",function(e){var r=e.data;switch(r.type){case"init":return delete r.type,void(o=(0,n.YIN)(r));case"detect":var t=r.channelData,a=o(new Float32Array(t)).freq;postMessage({pitch:a,channelData:t},[t])}})},function(e,r){"use strict";function t(e){function r(e){var r=0,t=0,n=0;for(n=0;v>n;n++)d[n]=0;for(n=1;v>n;n++)for(r=0;v>r;r++)t=e[r]-e[r+n],d[n]+=t*t}function t(){d[0]=1,d[1]=1;for(var e=0,r=1;v>r;r++)e+=d[r],d[r]*=r/e}function n(){for(var e=2;v>e;e++)if(d[e]<u){for(;v>e+1&&d[e+1]<d[e];)e++;l.probability=1-d[e];break}return e===v||d[e]>=u?(e=-1,l.probability=0,l.foundPitch=!1):l.foundPitch=!0,e}function o(e){var r=void 0,t=void 0,n=void 0;if(t=1>e?e:e-1,n=v>e+1?e+1:e,t===e)r=d[e]<=d[n]?e:n;else if(n===e)r=d[e]<=d[t]?e:t;else{var o=void 0,a=void 0,i=void 0;o=d[t],a=d[e],i=d[n],r=e+(i-o)/(2*(2*a-i-o))}return r}var a=.1,i=2048,f=44100,u=e.threshold||a,s=e.sampleRate||f,c=e.bufferSize||i,d=new Float32Array(c/2),v=c/2,l={};return function(e){r(e),t();var a=n();if(-1!==a){var i=o(a);l.freq=s/i}else l.freq=-1;return l}}r.__esModule=!0,r.YIN=t}]);